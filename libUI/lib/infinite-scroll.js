(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["cqc"]=t():(e["cqc"]=e["cqc"]||{},e["cqc"]["infinite-scroll"]=t())})(self,(function(){return function(){"use strict";var e={};!function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var t={};e.d(t,{default:function(){return u}});const n={delay:{default:100},immediate:{default:!0},disabled:{default:!1},distance:{default:10}},o="infinite-scroll";var i=function(e,t){return Object.entries(n).reduce(((n,[o,i])=>{let r=i.default,l=e.getAttribute(`infinite-scroll-${o}`);return l=l?void 0!==t[l]?t[l]:l:r,n[o]=["delay","distance"].includes(o)?+l:l,n}),{})},r=function(e){let t=e;while(document.documentElement!==t){let e=window.getComputedStyle(t).overflowY;if("auto"===e||"scroll"===e)return t;t=t.parentNode}return window},l=function(e){const{container:t,el:n,vm:r,options:l,observer:c}=this[o];let{disabled:u}=i(n,r);u||(t.scrollHeight-t.scrollTop-t.clientHeight<l.distance?e():c&&(c.disconnect(),this[o].observer=null))};function c(e,t=50){let n=null;return function(...o){if(null===n)return e.apply(this,o),void(n=0);n||(n=setTimeout((()=>{e.apply(this,o),n=0}),t))}}var u={name:"infinite-scroll",mounted(e,t,n){const u=t.value,s=t.instance,d=r(e);if(d!==window){let t=i(e,s);const n=c(l.bind(e,u),t.delay);if(d.addEventListener("scroll",n),e[o]={onscorll:n,container:d,options:t,el:e,vm:s},t.immediate){const t=e[o].observer=new MutationObserver(n);t.observe(d,{childList:!0,subtree:!0}),n()}}},unmounted(e){const{container:t,onscorll:n}=e[o];t.removeEventListener("scroll",n),e[o]=null}};return t=t["default"],t}()}));