(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define(["vue"],t):"object"===typeof exports?exports["cqc"]=t(require("vue")):(e["cqc"]=e["cqc"]||{},e["cqc"]["slide"]=t(e["vue"]))})(self,(function(e){return function(){"use strict";var t={3744:function(e,t){t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},441:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}!function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var o={};return function(){r.d(o,{default:function(){return a}});var e=r(441);const t={class:"cqc-slide"},n={key:1,class:"cqc-slide-right",ref:"right"};function l(r,o,l,c,i,s){return(0,e.openBlock)(),(0,e.createElementBlock)("div",t,[(0,e.createElementVNode)("div",{class:"cqc-slide-content",ref:"slide",style:(0,e.normalizeStyle)(c.styles)},[r.$slots.left?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"cqc-slide-left",ref:"left",style:(0,e.normalizeStyle)({"margin-left":-r.leftW+"px"})},[(0,e.renderSlot)(r.$slots,"left")],4)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:"cqc-slide-center",style:(0,e.normalizeStyle)({width:r.centerW+"px"})},[(0,e.renderSlot)(r.$slots,"default")],4),r.$slots.right?((0,e.openBlock)(),(0,e.createElementBlock)("div",n,[(0,e.renderSlot)(r.$slots,"right")],512)):(0,e.createCommentVNode)("",!0)],4)])}var c={name:"CqcSlide",props:{prevent:{type:Boolean,default:!0},rightDistance:{type:Number,default:30},leftDistance:{type:Number,default:30}},setup(t,{slots:n}){let r=(0,e.ref)(null),o=(0,e.ref)(null),l=(0,e.ref)(null),c=0,i=(0,e.ref)(0),s=0,u=!1;const a=(0,e.reactive)({centerW:0,leftW:0,rightW:0}),f=(0,e.computed)((()=>({transform:`translateX(${i.value}px)`,"transition-timing-function":"cubic-bezier(0.165, 0.84, 0.44, 1)","transition-duration":"0.8s"}))),d=e=>{u=!0,c=e.touches?e.touches[0].clientX:e.clientX,s=i.value},v=e=>{if(!u)return;t.prevent&&e.preventDefault();let n=e.touches?e.touches[0].clientX:e.clientX,r=n-c;i.value=s+2*r,r>0&&i.value>a.leftW&&(i.value=a.leftW),r<0&&i.value<-a.rightW&&(i.value=-a.rightW)},p=e=>{u=!1,i.value>0?i.value>t.leftDistance?i.value=a.leftW:i.value=0:-i.value>t.rightDistance?i.value=-a.rightW:i.value=0},m={touchstart:d,touchmove:v,touchend:p,mousedown:d,mousemove:v,mouseup:p},h=()=>{Object.entries(m).forEach((([e,t])=>{r.addEventListener(e,t)})),window.addEventListener("mouseup",p)},y=()=>{r=r.value,l=l.value,o=o.value,a.centerW=r.parentNode.clientWidth,n.left&&(a.leftW=l.offsetWidth),n.right&&(a.rightW=o.offsetWidth),h()};return(0,e.onMounted)((()=>{(0,e.nextTick)((()=>{y()}))})),(0,e.onBeforeUnmount)((()=>{Object.entries(m).forEach((([e,t])=>{r.removeEventListener(e,t)})),window.removeEventListener("mouseup",p)})),{...(0,e.toRefs)(a),left:l,right:o,styles:f,slide:r}}},i=r(3744);const s=(0,i.Z)(c,[["render",l]]);var u=s;u.install=e=>e.component(u.name,u);var a=u}(),o=o["default"],o}()}));