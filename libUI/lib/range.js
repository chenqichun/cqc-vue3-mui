(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define(["vue"],t):"object"===typeof exports?exports["cqc"]=t(require("vue")):(e["cqc"]=e["cqc"]||{},e["cqc"]["range"]=t(e["vue"]))})(self,(function(e){return function(){"use strict";var t={3744:function(e,t){t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},441:function(t){t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,r),c.exports}!function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var o={};return function(){r.d(o,{default:function(){return f}});var e=r(441);const t={class:"cqc-range-text"},n={key:1},c={class:"cqc-range-wrapper",ref:"range"},u={class:"cqc-range-text"},a={key:1};function l(r,o,l,s,i,d){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:"cqc-range",style:(0,e.normalizeStyle)({height:l.thumbWidth+"px"})},[(0,e.createElementVNode)("div",t,[r.$slots.startText?(0,e.renderSlot)(r.$slots,"startText",{key:0}):((0,e.openBlock)(),(0,e.createElementBlock)("span",n,"0"))]),(0,e.createElementVNode)("div",c,[(0,e.createElementVNode)("div",{class:"cqc-range-way",style:(0,e.normalizeStyle)(s.wayStyle)},null,4),(0,e.createElementVNode)("div",{class:"cqc-range-progress",style:(0,e.normalizeStyle)(s.progressStyle)},null,4),(0,e.createElementVNode)("div",{class:"cqc-range-thumb",style:(0,e.normalizeStyle)({...s.thumbStyle,transform:s.transform})},null,4)],512),(0,e.createElementVNode)("div",u,[r.$slots.endText?(0,e.renderSlot)(r.$slots,"endText",{key:0}):((0,e.openBlock)(),(0,e.createElementBlock)("span",a,(0,e.toDisplayString)(s.percentage)+"\\100",1))])],4)}var s={name:"CqcRange",props:{thumbWidth:{type:Number,default:30},thumbColor:{type:String,default:"#fff"},height:{type:Number,default:1},color:{type:String,default:"#26a2ff"},bgColor:{type:String,default:"#a9acb1"},current:{type:Number,default:0}},setup(t,{emit:n}){let r=(0,e.ref)(null),o=1,c=0,u=0,a=(0,e.ref)(0),l=!1;const s=(0,e.computed)((()=>`translate3D(${a.value}px, -50%, 0)`)),i=(0,e.computed)((()=>({width:t.thumbWidth+"px",height:t.thumbWidth+"px",background:t.thumbColor}))),d=(0,e.computed)((()=>({right:0,background:t.bgColor,height:t.height+"px"}))),p=(0,e.computed)((()=>({background:t.color,width:a.value+"px",height:t.height+"px"}))),f=(0,e.computed)((()=>Math.round(a.value/o*100))),h=e=>{let n=e.touches?e.touches[0].clientX:e.clientX;c=n;let s=n-r.getBoundingClientRect().left;s-=t.thumbWidth/2,a.value=s>o?o:s<0?0:s,u=a.value,l=!0},m=e=>{if(!l)return;let t=e.touches?e.touches[0].clientX:e.clientX,r=t-c+u;a.value=r>o?o:r<0?0:r,n("change",Math.round(a.value/o*100),a.value/o*100)},v=e=>{l=!1},g={touchstart:h,touchmove:m,touchend:v,mousedown:h,mousemove:m,mouseup:v},y=()=>{Object.entries(g).forEach((([e,t])=>{r.addEventListener(e,t)})),window.addEventListener("touchend",v)};(0,e.watch)((()=>t.current),(e=>{a.value=Math.round(e/100*o)}),{immediate:!0});const b=()=>{r=r.value,o=r.clientWidth-t.thumbWidth,a.value=Math.round(t.current/100*o),y()};return(0,e.onBeforeUnmount)((()=>{Object.entries(g).forEach((([e,t])=>{r.removeEventListener(e,t)})),window.removeEventListener("touchend",v)})),(0,e.onMounted)((()=>{(0,e.nextTick)((()=>{b()}))})),{wayStyle:d,thumbStyle:i,transform:s,range:r,offsetX:a,progressStyle:p,percentage:f}}},i=r(3744);const d=(0,i.Z)(s,[["render",l]]);var p=d;p.install=e=>e.component(p.name,p);var f=p}(),o=o["default"],o}()}));